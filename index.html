<!doctype html>
<html lang="en">
  <head>
    <title>PDU Portfolio - SRS Power</title>
    <meta charset="utf-8">
    <meta name="description" content="PDU Portfolio showcasing SRS Power products">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script>
      // Determine if we're running on GitHub Pages or locally
      window.isGitHubPages = window.location.hostname.includes('github.io');
      window.basePath = window.isGitHubPages ? '/PDUViewer' : '';
      document.write(`
        <link rel="icon" type="image/png" href="${window.basePath}/favicon_SRS.png">
        <link type="text/css" href="${window.basePath}/styles.css" rel="stylesheet"/>
      `);
    </script>
    <link href="https://fonts.googleapis.com/css2?family=Purista:wght@400;700&display=swap" rel="stylesheet">
  </head>
  <body>
    <div class="header">
      <script>
        document.write(`<img src="${window.basePath}/SRS_power.png" alt="SRS_POWER_LOGO" class="logo">`);
      </script>
      <h1 class="title">PDU PORTFOLIO</h1>
    </div>
    <div class="container">
      <div class="model-section">
        <!-- <model-viewer> HTML element -->
        <script>
          document.write(`
            <model-viewer id="active-model" 
              src="${window.basePath}/products/922690-PDU63HYMAG-IP54.glb" 
              ar ar-modes="webxr scene-viewer quick-look" 
              camera-controls 
              tone-mapping="neutral" 
              poster="${window.basePath}/poster.webp" 
              shadow-intensity="1">
              <div class="progress-bar hide" slot="progress-bar">
                  <div class="update-bar"></div>
              </div>
              <button slot="ar-button" id="ar-button">
                  View in your space
              </button>
              <div id="ar-prompt">
                  <img src="${window.basePath}/ar_hand_prompt.png">
              </div>
            </model-viewer>
          `);
        </script>
      </div>
      <div class="carousel-section">
        <div class="filters">
          <div class="filter-group">
            <select id="type-filter">
              <option value="">Type</option>
            </select>
          </div>
          <div class="filter-group">
            <select id="input-filter">
              <option value="">Input</option>
            </select>
          </div>
        </div>
        <div class="carousel">
          <!-- Carousel items will be loaded dynamically from devices.json -->
        </div>
      </div>
    </div>
    <script>
      document.write(`<script src="${window.basePath}/script.js"><\/script>`);
    </script>
    <!-- Loads <model-viewer> for browsers: -->
    <script type="module" src="lib/model-viewer/model-viewer.min.js"></script>
  </body>
</html>